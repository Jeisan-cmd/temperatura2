@page "/"
@using websimulador.Services
@using websimulador.Models
@inject SupabaseService SupabaseService

<h3>Temperaturas Registradas</h3>

@if (data == null)
{
    <p>Cargando...</p>
}
else
{
    <ul>
        @foreach (var t in data)
        {
            <li>@t.Temperature °C - @t.Timestamp.ToString("dd/MM/yyyy HH:mm:ss")</li>
        }
    </ul>
}

@code {
    private List<SensorData>? data;

    protected override async Task OnInitializedAsync()
    {
        data = await SupabaseService.GetSensorDataAsync();
    }
}